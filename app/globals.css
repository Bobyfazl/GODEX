
@tailwind base;
@tailwind components;
@tailwind utilities;

/* --- GLOBAL RESET & PHYSICS --- */
html {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

html, body {
  width: 100%;
  min-height: 100%;
  margin: 0;
  padding: 0;
  overflow-x: hidden;
  /* Removed overscroll-behavior: none to prevent sticky/buggy feeling on mobile stop */
}

body {
  font-family: 'Vazirmatn', sans-serif;
  background-color: #f8fafc; 
}

* {
  box-sizing: border-box;
}

/* --- LENIS & SCROLLBAR --- */
html.lenis, html.lenis body { height: auto; }
.lenis.lenis-smooth { scroll-behavior: auto !important; }
.lenis.lenis-smooth [data-lenis-prevent] { overscroll-behavior: contain; }
.lenis.lenis-stopped { overflow: hidden; }
.lenis.lenis-scrolling iframe { pointer-events: none; }

::-webkit-scrollbar { width: 0px; background: transparent; }

html.dark body { background-color: #020617; }

/* --- OPTIMIZED LAYERS --- */
.gpu-layer {
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
  perspective: 1000px;
  will-change: transform, opacity;
}

.fixed-layer {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  transform: translateZ(0);
}

/* --- CENTRALIZED ANIMATION PHYSICS --- */
/* Defines the standard interactive feel for buttons/links */
.physics-interactive {
  transition-property: all;
  transition-timing-function: cubic-bezier(0.19, 1, 0.22, 1); /* Softer easing */
  transition-duration: 700ms; /* Increased for smoothness */
  transform: translateZ(0);
}

/* Defines the standard card feel - ULTRA SMOOTH */
.card-interactive {
  transition-property: transform, box-shadow, background-color, border-color, opacity;
  transition-duration: 1000ms; /* Increased to 1s for very smooth feel */
  transition-timing-function: cubic-bezier(0.19, 1, 0.22, 1); /* Soft exponential ease out */
  transform: translateZ(0);
  will-change: transform;
  backface-visibility: hidden;
}

.card-interactive:hover {
  transform: scale(1.025) translateY(-8px);
  z-index: 10;
}

/* --- SCROLL REVEAL SYSTEM WITH FASTER MOTION BLUR --- */
.reveal-base {
  opacity: 0;
  transform: translate3d(0, 30px, 0) scale(0.98);
  filter: blur(4px); 
  will-change: opacity, transform, filter;
  transition: opacity 0.8s cubic-bezier(0.16, 1, 0.3, 1), 
              transform 0.8s cubic-bezier(0.16, 1, 0.3, 1),
              filter 0.8s cubic-bezier(0.16, 1, 0.3, 1);
}

.reveal-visible {
  opacity: 1;
  transform: translate3d(0, 0, 0) scale(1);
  filter: blur(0px);
}

/* --- VIEW TRANSITIONS --- */
::view-transition-group(root) { animation-duration: 1.2s; }
